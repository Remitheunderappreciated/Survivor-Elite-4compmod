; ############  DIRECTOR AND EVENT CHANGES  ###########
; =====================================================
; ==          DIRECTOR & EVENT MODIFICATION          ==
; ==       Modify director behaviour and events      ==
; =====================================================


; ################  ITEM SPAWN CHANGES  ###############
; =====================================================
; ==           PILL / ITEM / WEAPON SPAWNS           ==
; ==   Remove or change pill, item & weapon spawns   ==
; =====================================================
add:
; --- tonfa
{
	"classname" "Weapon_melee_spawn"
	"origin" "-6742 12127 183"
	"angles" "0 160 90"
	"model" "models/weapons/melee/w_tonfa.mdl"
	"melee_weapon" "tonfa"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- frying pan
{
	"classname" "Weapon_melee_spawn"
	"origin" "-6727 12120 183"
	"angles" "0 160 90"
	"model" "models/weapons/melee/w_frying_pan.mdl"
	"melee_weapon" "frying_pan"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- knife
{
	"classname" "Weapon_melee_spawn"
	"origin" "-6733 12131 183"
	"angles" "0 160 90"
	"model" "models/w_models/weapons/w_knife_t.mdl"
	"melee_weapon" "knife"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- crowbar 
{
	"classname" "Weapon_melee_spawn"
	"origin" "-6749 12126 183"
	"angles" "0 160 90"
	"model" "models/weapons/melee/w_crowbar.mdl"
	"melee_weapon" "crowbar"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- deagle
{
	"classname" "weapon_pistol_magnum_spawn"
	"origin" "-6683 12106 183"
	"angles" "0 160 90"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- pills 1
{
	"classname" "Weapon_pain_pills_spawn"
	"origin" "-6717 12115 185"
	"angles" "0 60 0"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- pills 2
{
	"classname" "Weapon_pain_pills_spawn"
	"origin" "-6713 12114 185"
	"angles" "0 60 0"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- pills 3
{
	"classname" "Weapon_pain_pills_spawn"
	"origin" "-6709 12113 185"
	"angles" "0 60 0"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- pills 4
{
	"classname" "Weapon_pain_pills_spawn"
	"origin" "-6705 12112 185"
	"angles" "0 60 0"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- kit 1
{
	"classname" "Weapon_first_aid_kit"
	"origin" "-6712 12123 184"
	"angles" "90 340 0"
	"count" "1"
	"spawnflags" "1"
	"spawn_without_director" "1"
}
; --- kit 2
{
	"classname" "Weapon_first_aid_kit"
	"origin" "-6703 12120 184"
	"angles" "90 340 0"
	"count" "1"
	"spawnflags" "1"
	"spawn_without_director" "1"
}
; --- kit 3
{
	"classname" "Weapon_first_aid_kit"
	"origin" "-6708 12134 184"
	"angles" "90 340 0"
	"count" "1"
	"spawnflags" "1"
	"spawn_without_director" "1"
}
; --- kit 4
{
	"classname" "Weapon_first_aid_kit"
	"origin" "-6699 12131 184"
	"angles" "90 340 0"
	"count" "1"
	"spawnflags" "1"
	"spawn_without_director" "1"
}
; --- pipe
{
	"classname" "Weapon_pipe_bomb_spawn"
	"origin" "-6683 12122 188"
	"angles" "0 0 0"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- moli
{
	"classname" "Weapon_molotov_spawn"
	"origin" "-6678 12127 188"
	"angles" "0 0 0"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- bile
{
	"classname" "Weapon_vomitjar_spawn"
	"origin" "-6676 12119 187"
	"angles" "0 0 0"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- silenced smg
{
	"classname" "weapon_smg_silenced_spawn"
	"origin" "-6766 12025 153"
	"angles" "0 340 90"
	"count" "1"
	"spawnflags" "18"
	"spawn_without_director" "1"
}
; --- m16
{
	"classname" "weapon_rifle_spawn"
	"origin" "-6765 12033 183"
	"angles" "0 340 90"
	"spawnflags" "18"
	"count" "1"
	"spawn_without_director" "1"
}
; --- ak
{
	"classname" "weapon_rifle_ak47_spawn"
	"origin" "-6726 12022 183"
	"angles" "0 340 90"
	"spawnflags" "18"
	"count" "1"
	"spawn_without_director" "1"
}
; --- military sniper
{
	"classname" "weapon_sniper_military_spawn"
	"origin" "-6734 12005 184"
	"angles" "0 340 90"
	"spawnflags" "18"
	"count" "1"
	"spawn_without_director" "1"
}
; --- scar
{
	"classname" "weapon_rifle_desert_spawn"
	"origin" "-6727 12011 183"
	"angles" "0 340 90"
	"spawnflags" "18"
	"count" "1"
	"spawn_without_director" "1"
}
; --- commando 
{
	"classname" "weapon_rifle_sg552_spawn"
	"origin" "-6765 12022 182"
	"angles" "0 340 90"
	"spawnflags" "18"
	"count" "1"
	"spawn_without_director" "1"
}
; ---  chrome
{
	"classname" "weapon_shotgun_chrome_spawn"
	"origin" "-6737 12028 152"
	"angles" "0 340 90"
	"spawnflags" "18"
	"count" "1"
	"spawn_without_director" "1"
}
; ---  spas
{
	"classname" "weapon_shotgun_spas_spawn"
	"origin" "-6741 12017 154"
	"angles" "0 340 90"
	"spawnflags" "18"
	"count" "1"
	"spawn_without_director" "1"
}
; --- AWP 
{
	"classname" "weapon_sniper_awp_spawn"
	"origin" "-6774 12013 182"
	"angles" "0 340 90"
	"spawnflags" "18"
	"count" "1"
	"spawn_without_director" "1"
}
; --- defib 1
{
	"classname" "weapon_defibrillator_spawn"
	"origin" "-4940 9074 -151"
	"angles" "0 340 0"
	"solid" "0"
	"spawnflags" "1"
	"count" "1"
	"spawn_without_director" "1"
}


; =====================================================
; ==                STATIC AMMO PILES                ==
; ==          Add or modify ammo pile spawns         ==
; =====================================================
add:
; --- ammo 
{
	"classname" "weapon_ammo_spawn"
	"origin" "-6771 11358 -128"
	"angles" "0 0 0"
	"model" "models/props/de_prodigy/ammo_can_03.mdl"
	"solid" "6"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "5"
}
; --- ammo crate solid
{
	"classname" "prop_dynamic"
	"origin" "-6771 11358 -128"
	"angles" "0 0 0"
	"model" "models/props/de_prodigy/ammo_can_03.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- ammo pile
{
	"classname" "weapon_ammo_spawn"
	"origin" "-5136 8227 -190"
	"angles" "0 0 0"
	"model" "models/props/terror/ammo_stack.mdl"
	"solid" "6"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "5"
}

; =====================================================
; ==                 HITTABLE CHANGES                ==
; ==           Add/remove/modify hittables           ==
; =====================================================
; --- Restore original hittable placements
add:
{
	"classname" "logic_auto"
	; --- Remove TLS hittable
	"OnMapSpawn" "anv_mapfixes_replacement_baggagecart,Kill,,15,-1"
	; --- Spawn new bumper car
	"OnMapSpawn" "original_baggagecart_template,ForceSpawn,,16,-1"
}
{
	"classname" "prop_physics"
	"origin" "-3704 8863.05 -165.567"
	"angles" "-9.17619 299.929 -0.0927395"
	"model" "models/props_vehicles/airport_baggage_cart2.mdl"
	"solid" "6"
	"fadescale" "0"
	"targetname" "original_baggagecart"
}
; --- Template to spawn the baggage cart
{
	"classname" "point_template"
	"targetname" "original_baggagecart_template"
	"Template01" "original_baggagecart"
	"spawnflags" "2"
}


; #############  MAP CLIPPING AND ISSUES  #############
; =====================================================
; ==                 EXPLOITS BLOCKED                ==
; ==      Block intentionally performed exploits     ==
; =====================================================

; =====================================================
; ==                  OUT OF BOUNDS                  ==
; ==  Block players getting outside / under the map  ==
; =====================================================

; =====================================================
; ==                   STUCK SPOTS                   ==
; ==  Prevent players from getting stuck in the map  ==
; =====================================================

; =====================================================
; ==                 NUISANCE CHANGES                ==
; ==      Clipping improvements, QOL map changes     ==
; =====================================================
add:
; --- Block LOS under food truck by the front of the plane
{
	"classname" "logic_auto"
	"OnMapSpawn" "losfix_foodtruck_front_a,AddOutput,mins -1 -91 -25,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_a,AddOutput,maxs 1 91 25,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_a,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_b,AddOutput,mins -52 -1 -25,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_b,AddOutput,maxs 52 1 25,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_b,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_c,AddOutput,mins -1 -66 -25,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_c,AddOutput,maxs 1 66 25,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_c,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_d,AddOutput,mins -52 -1 -25,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_d,AddOutput,maxs 52 1 25,0,-1"
	"OnMapSpawn" "losfix_foodtruck_front_d,AddOutput,solid 2,0,-1"
}
{
	"classname" "func_brush"
	"origin" "-4067 10167 -167"
	"targetname" "losfix_foodtruck_front_a"
}
{
	"classname" "func_brush"
	"origin" "-4014 10077 -167"
	"targetname" "losfix_foodtruck_front_b"
}
{
	"classname" "func_brush"
	"origin" "-3963 10010 -167"
	"targetname" "losfix_foodtruck_front_c"
}
{
	"classname" "func_brush"
	"origin" "-4089 10221 -167"
	"targetname" "losfix_foodtruck_front_d"
}
; --- Add missing textures to airport roof
{
	"classname" "prop_dynamic"
	"origin" "-7064 10100 568"
	"angles" "0 90 0"
	"model" "models/props_update/c8m1_rooftop_1.mdl"
	"solid" "0"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-7064 11156 568"
	"angles" "0 90 0"
	"model" "models/props_update/c8m1_rooftop_1.mdl"
	"solid" "0"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-7064 12212 568"
	"angles" "0 90 0"
	"model" "models/props_update/c8m1_rooftop_1.mdl"
	"solid" "0"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-7064 13268 568"
	"angles" "0 90 0"
	"model" "models/props_update/c8m1_rooftop_1.mdl"
	"solid" "0"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-7064 8020 568"
	"angles" "0 90 0"
	"model" "models/props_update/c8m1_rooftop_1.mdl"
	"solid" "0"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-7064 6964 568"
	"angles" "0 90 0"
	"model" "models/props_update/c8m1_rooftop_1.mdl"
	"solid" "0"
	"disableshadows" "1"
}

; ###########  ADDITIONAL PROPS AND SPAWNS  ###########
; =====================================================
; ==                      PROPS                      ==
; ==       New props for balance and SI spawns       ==
; =====================================================
; --- Remove props that are in the way of the plane escape sequence
modify:
{
	match:
	{
		"targetname" "relay_outro_start"
	}
	insert:
	{
		"OnTrigger" "escape_remove_prop,Kill,,0,-1"
	}
}
add:
; --- Crashed plane by the wall of fire
{
	"classname" "prop_dynamic"
	"origin" "-3364 9516 -192"
	"angles" "0 170 0"
	"model" "models/props_debris/airliner_wreckage3.mdl"
	"solid" "6"
	"disableshadows" "1"
	"targetname" "escape_remove_prop"
}
; --- Clipping on crashed plane
{
	"classname" "env_physics_blocker"
	"origin" "-3761 9674 -101"
	"mins" "-55 -80 -91"
	"maxs" "55 80 91"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-3344 9642 -17"
	"angles" "0 -10 0"
	"mins" "-130 -14 -38"
	"maxs" "130 14 38"
	"boxmins" "-130 -14 -38"
	"boxmaxs" "130 14 38"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "logic_auto"
	"OnMapSpawn" "losfix_added_plane_a,AddOutput,mins -60 -1 -38,0,-1"
	"OnMapSpawn" "losfix_added_plane_a,AddOutput,maxs 60 1 38,0,-1"
	"OnMapSpawn" "losfix_added_plane_a,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "losfix_added_plane_b,AddOutput,mins -1 -10 -35,0,-1"
	"OnMapSpawn" "losfix_added_plane_b,AddOutput,maxs 1 10 35,0,-1"
	"OnMapSpawn" "losfix_added_plane_b,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "losfix_added_plane_c,AddOutput,mins -60 -1 -35,0,-1"
	"OnMapSpawn" "losfix_added_plane_c,AddOutput,maxs 60 1 35,0,-1"
	"OnMapSpawn" "losfix_added_plane_c,AddOutput,solid 2,0,-1"
}
{
	"classname" "func_brush"
	"origin" "-3284 9633 -18"
	"targetname" "losfix_added_plane_a"
}
{
	"classname" "func_brush"
	"origin" "-3345 9642 -21"
	"targetname" "losfix_added_plane_b"
}
{
	"classname" "func_brush"
	"origin" "-3404 9653 -21"
	"targetname" "losfix_added_plane_c"
}
; --- cover
{
	"classname" "prop_dynamic"
	"origin" "-6341 8447 -19"
	"angles" "-8 50 0"
	"model" "models/props_urban/fence_cover001_64.mdl"
	"solid" "0"
	"disableshadows" "1"
}
; --- cover 2
{
	"classname" "prop_dynamic"
	"origin" "-6355 8461 -19"
	"angles" "-8 50 0"
	"model" "models/props_urban/fence_cover001_64.mdl"
	"solid" "0"
	"disableshadows" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6293 8509 65"
	"mins" "-80 -80 -80"
	"maxs" "8 8 8"
	"initialstate" "1"
	"BlockType" "1"
}
; --- plane mid
{
	"classname" "prop_dynamic"
	"origin" "-5080 11324 -323"
	"angles" "0 90 0"
	"model" "models/props_debris/airliner_wreckage4_ext.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- plane mid interior
{
	"classname" "prop_dynamic"
	"origin" "-5080 11324 -323"
	"angles" "0 90 0"
	"model" "models/props_debris/airliner_wreckage5_int.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-4830 11175 -132"
	"mins" "-300 -8 -40"
	"maxs" "8 8 8"
	"initialstate" "1"
	"BlockType" "1"
}
; --- army truck
{
	"classname" "prop_dynamic"
	"origin" "-6745 11261 -193"
	"angles" "0 180 0"
	"model" "models/props_vehicles/army_truck.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- container
{
	"classname" "prop_dynamic"
	"origin" "-7056 10952 -192"
	"angles" "0 0 0"
	"model" "models/props_equipment/cargo_container03.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- catering truck
{
	"classname" "prop_dynamic"
	"origin" "-6761 8359 -193"
	"angles" "0 300 0"
	"model" "models/props_vehicles/airport_catering_truck.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- humvee
{
	"classname" "prop_dynamic"
	"origin" "-4189 9845 -193"
	"angles" "0 10 0"
	"model" "models/props_vehicles/humvee.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- humvee glass
{
	"classname" "prop_dynamic"
	"origin" "-4189 9845 -193"
	"angles" "0 10 0"
	"model" "models/props_vehicles/humvee_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- tractor
{
	"classname" "prop_physics"
	"origin" "-3587 10099 -187"
	"angles" "0 330 0"
	"model" "models/props_vehicles/airport_baggage_tractor.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- tractor cart
{
	"classname" "prop_physics"
	"origin" "-3552 10223 -187"
	"angles" "0 0 0"
	"model" "models/props_vehicles/airport_baggage_cart2.mdl"
	"solid" "6"
	"disableshadows" "1"
}

; =====================================================
; ==             LADDER / ELEVATOR NERF              ==
; ==   Nerf ladder & elevator attacks for infected   ==
; =====================================================


; ############  MAP SOUND AND GFX CHANGES  ############
; =====================================================
; ==                  SOUND REMOVAL                  ==
; ==    Remove or adjust sounds played by the map    ==
; =====================================================
; --- Remove plane crash sound
filter:
{
	"targetname" "plane_crash_sound"
}
; --- Remove ambient fire sounds
{
	"targetname" "sound_fire"
}
; --- Fade out the fuel pump sound after a few seconds and reduce the volume of the escape sequence
modify:
{
	match:
	{
		"targetname" "radio"
	}
	insert:
	{
		; --- Fuel pump sound
		"UseStart" "sound_fuelpump,FadeOut,7,3,-1"
		"UseStart" "sound_fuelpump,Kill,,12,-1"
		; --- Escape sequence sounds
		"FinaleEscapeStarted" "sound_plane_open,Volume,2,7.6,-1"
		"FinaleEscapeStarted" "sound_plane_start,Volume,2,0.1,-1"
	}
}

; =====================================================
; ==             GFX / PARTICLES REMOVAL             ==
; ==        Remove visual effects from the map       ==
; =====================================================
; --- Remove the plane crash screen shake
filter:
{
	"targetname" "plane_crash_shake"
}


; ###############  TRIGGERS AND BRUSHES  ##############
; =====================================================
; ==                   CLIP REMOVAL                  ==
; ==      Remove miscellaneous clips and brushes     ==
; =====================================================
; --- Remove TLS clips
add:
{
	"classname" "logic_auto"
	; --- Angled survivor clip over boarding gate (can be re-enabled if angled blockers get fixed) (#34)
	"OnMapSpawn" "anv_mapfixes_nav_skybridge,Kill,,30,-1"
}

; =====================================================
; ==              TRIGGER REMOVAL / FIX              ==
; ==    Fix triggers that interfere with gameplay    ==
; =====================================================


; #############  LADDER CHANGES AND FIXES  ############
; =====================================================
; ==             LADDER ADDITIONS / FIXES            ==
; ==              Add or change ladders              ==
; =====================================================
add:
; --- Infected ladders to get on the airport roof from above the saferoom
{
	"classname" "func_simpleladder"
	"origin" "325 1105 468.23"
	"angles" "0 0 0"
	"model" "*38"
	"normal.x" "1.00"
	"normal.y" "0.00"
	"normal.z" "0.00"
	"team" "2"
}
{
	"classname" "func_simpleladder"
	"origin" "-1 2865 473.87"
	"angles" "0 0 0"
	"model" "*63"
	"normal.x" "1.00"
	"normal.y" "0.00"
	"normal.z" "0.00"
	"team" "2"
}


; ####################  Filter  ######################
; =====================================================
; ==                    Item                 	     ==
; ==                   Removal  		     ==
; =====================================================
filter:
{
	"hammerid" "4178838"
}
{
	"hammerid" "4260524"
}
{
	"hammerid" "4274974"
}
{
	"hammerid" "4365972"
}
{
	"hammerid" "4365974"
}
{
	"hammerid" "4365976"
}
{
	"hammerid" "4365978"
}
{
	"hammerid" "4365986"
}
{
	"hammerid" "4365988"
}
{
	"hammerid" "4365998"
}
{
	"hammerid" "4366000"
}
{
	"hammerid" "4376039"
}
{
	"hammerid" "4376041"
}
{
	"hammerid" "4376051"
}
{
	"hammerid" "4376053"
}
{
	"hammerid" "4376594"
}
{
	"hammerid" "4376596"
}
{
	"hammerid" "4376652"
}
{
	"hammerid" "4376676"
}
{
	"hammerid" "4378760"
}
{
	"hammerid" "4378762"
}
{
	"hammerid" "4379046"
}
{
	"hammerid" "4379048"
}
{
	"hammerid" "4379091"
}
{
	"hammerid" "4379093"
}
{
	"hammerid" "4381290"
}
{
	"hammerid" "4381330"
}
{
	"hammerid" "4381338"
}
{
	"hammerid" "4381344"
}
{
	"hammerid" "4383454"
}
{
	"hammerid" "4410893"
}
{
	"hammerid" "4410897"
}
{
	"hammerid" "4088368"
}
{
	"hammerid" "4372630"
}
{
	"hammerid" "4372704"
}
{
	"hammerid" "4372712"
}
{
	"hammerid" "4376099"
}
{
	"hammerid" "4376115"
}
{
	"hammerid" "4288696"
}
{
	"hammerid" "4288704"
}
{
	"hammerid" "4288772"
}
{
	"hammerid" "4288776"
}
{
	"hammerid" "4288780"
}
{
	"hammerid" "4288784"
}
{
	"hammerid" "3503987"
}
{
	"hammerid" "3503989"
}
{
	"hammerid" "3503993"
}
{
	"hammerid" "3503995"
}
{
	"hammerid" "3503997"
}
{
	"hammerid" "3503998"
}
{
	"hammerid" "3503999"
}
{
	"hammerid" "3504001"
}
{
	"hammerid" "3504003"
}
{
	"hammerid" "3411297"
}
{
	"hammerid" "3411295"
}
{
	"hammerid" "3411293"
}
{
	"hammerid" "3411309"
}
{
	"hammerid" "4366045"
}
{
	"hammerid" "4366049"
}
{
	"hammerid" "4370356"
}
{
	"hammerid" "4381282"
}
{
	"hammerid" "4381352"
}
{
	"hammerid" "4381356"
}
{
	"hammerid" "4381360"
}
{
	"hammerid" "4381364"
}